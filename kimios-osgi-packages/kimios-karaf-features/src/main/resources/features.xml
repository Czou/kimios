<?xml version="1.0" encoding="UTF-8"?>
<features xmlns="http://karaf.apache.org/xmlns/features/v1.2.0" name="kimios-${project.version}">
    <repository>mvn:org.apache.cxf.karaf/apache-cxf/${cxf.version}/xml/features</repository>
    <feature name="kimios-dependencies" version="${project.version}">
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.dom4j/1.6.1_3</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aspectj/1.7.1_1</bundle>
        <bundle start-level="80">mvn:commons-io/commons-io/2.2</bundle>
        <bundle start-level="80">mvn:commons-lang/commons-lang/LATEST</bundle>
        <bundle start-level="80">mvn:commons-collections/commons-collections/3.2.1</bundle>
        <bundle start-level="80">mvn:commons-codec/commons-codec/LATEST</bundle>
        <bundle start-level="80">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-pool/LATEST</bundle>
        <bundle start-level="80">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-dbcp/LATEST</bundle>
        <bundle>mvn:org.apache.commons/commons-email/1.4</bundle>
        <bundle>wrap:mvn:postgresql/postgresql/9.1-901.jdbc3</bundle>
        <bundle>wrap:mvn:net.sourceforge.jtds/jtds/1.3.1</bundle>
        <bundle>mvn:org.codehaus.jackson/jackson-core-asl/1.9.13</bundle>
        <bundle>mvn:org.codehaus.jackson/jackson-mapper-asl/1.9.13</bundle>
        <bundle>mvn:org.codehaus.jackson/jackson-jaxrs/1.9.13</bundle>	
        <feature>cxf</feature>
        <feature>cxf-core</feature>
        <feature>cxf-ws-policy</feature>
        <feature>cxf-ws-addr</feature>
        <feature>cxf-ws-rm</feature>
        <feature>cxf-ws-mex</feature>
        <feature>cxf-ws-security</feature>
        <feature>cxf-http</feature>
        <feature>cxf-http-jetty</feature>
        <feature>cxf-bindings-soap</feature>
        <feature>cxf-jaxws</feature>
        <feature>cxf-jaxrs</feature>
        <feature>cxf-databinding-aegis</feature>
        <feature>cxf-databinding-jaxb</feature>
        <feature>cxf-databinding-xmlbeans</feature>
        <feature>cxf-features-clustering</feature>
        <feature>cxf-bindings-corba</feature>
        <feature>cxf-bindings-coloc</feature>
        <feature>cxf-bindings-object</feature>
        <feature>cxf-transports-local</feature>
        <feature>cxf-javascript</feature>
        <feature>cxf-frontend-javascript</feature>
        <feature>cxf-xjc-runtime</feature>
	    <feature>cxf-rs-security-cors</feature>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.quartz/1.8.6_1</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aopalliance/LATEST</bundle>
        <feature>war</feature>
        <feature>blueprint-web</feature>
        <feature version="${spring.version}">spring</feature>
    </feature>
    <feature name="kimios-datasources" version="${project.version}">
        <feature>jndi</feature>
        <feature>transaction</feature>
	    <feature>jpa</feature>
	    <feature version="${hibernate.version}">hibernate</feature>
    </feature>
    <feature name="kimios-solr" version="${solr4j.version}">
	<bundle>mvn:org.apache.httpcomponents/httpclient-osgi/4.3.3</bundle>
	<bundle>mvn:org.apache.httpcomponents/httpcore-osgi/4.3.3</bundle>
	<bundle>mvn:org.kimios/kimios-solr/${solr4j.version}</bundle>
    </feature>
    <feature version="${project.version}" name="kimios-core-settings">
        <configfile finalname="/etc/org.kimios.server.app.cfg">mvn:org.kimios/kimios-karaf-features/${project.version}/properties/kimios-server-cfg</configfile>
        <bundle>mvn:org.kimios/kimios-karaf-datasource/${project.version}</bundle>
    </feature>
    <feature version="${project.version}" name="kimios-core">
        <!--<configfile finalname="/deploy/kimios-ds.xml">mvn:org.kimios/kimios-karaf-features/${project.version}/xml/datasource</configfile>
        <configfile finalname="/deploy/kimios-ds.xml">file:///home/farf/Development/kimios-infra/docker/finalkimios/kimios-srv/kimios-ds.xml</configfile>-->

        <bundle>mvn:org.kimios/kimios-exceptions/${project.version}/jar</bundle>
        <bundle>mvn:org.kimios/kimios-interfaces/${project.version}/jar</bundle>
        <bundle>mvn:org.kimios/kimios-model/${project.version}/jar/blueprint</bundle>
        <bundle>mvn:org.kimios/kimios-kernel-osgi/${project.version}/jar/blueprint</bundle>
        <bundle>mvn:org.kimios/kimios-index/${project.version}/jar/osgi</bundle>
        <bundle>mvn:org.kimios/kimios-share/${project.version}/jar/osgi</bundle>
        <bundle>mvn:org.kimios/kimios-docx4j-osgi/3.2.2/jar</bundle>
        <bundle>mvn:org.kimios/kimios-convert/${project.version}/jar/osgi</bundle>
        <bundle>mvn:org.kimios/kimios-bonita/${project.version}/jar/osgi</bundle>
	    <bundle>mvn:org.kimios/kimios-karaf-commands/${project.version}</bundle>
    </feature>
    <feature version="${project.version}" name="kimios-services">
        <config name="org.apache.cxf.osgi">
            org.apache.cxf.servlet.context = /services
        </config>
        <bundle>mvn:io.swagger/swagger-annotations/1.5.4</bundle>
        <bundle>mvn:org.kimios/kimios-services/${project.version}/jar/blueprint</bundle>
        <bundle>mvn:org.kimios/kimios-bonita-service/${project.version}/jar/blueprint</bundle>
        <bundle>mvn:org.kimios/kimios-convert-service/${project.version}/jar/blueprint</bundle>
        <bundle>mvn:org.kimios/kimios-share-service/${project.version}/jar/blueprint</bundle>
    </feature>
    <feature version="${project.version}" name="kimios-web-standard">
        <configfile finalname="/etc/org.kimios.client.app.cfg">mvn:org.kimios/kimios-karaf-features/${project.version}/properties/kimios-client-cfg</configfile>
        <bundle>mvn:org.kimios/kimios-webclient/${project.version}/war/osgi</bundle>
    </feature>
</features>
